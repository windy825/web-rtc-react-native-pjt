# :running:운동 소개팅 나와!

**web rtc 를 활용한 운동 소개팅 앱 입니다.**

<br>

<br>

담당 파트 : 안드로이드 하이브리드 앱 전체

사용 기술 : 

```
react-native - 앱 구조 설계 및 틀 제작 

typescript, js - 앱 내부 스크린 제작

firebase(realtimebase, firestore) - 실시간 매칭, web-rtc 피어와 후보 교환, 채팅

redux - 앱 메모리에서의 상태 관리

async - 앱 외부에서의 상태 관리
```

<br>

<br>

### [실시간 매칭 소개]

### 1. 위치 설정

![3-3](https://user-images.githubusercontent.com/89068148/192576542-a56def59-e7ac-40ff-9d6f-906734f3d0d6.PNG)

- 사용중인 기기의 하드웨어 설정에 접근하여 **GPS**를 사용합니다.
- 좌측 하단의 빨간 원을 통해 **내 위치를 맵 중앙에 표시** 합니다.
- 라이브러리 : **naver_map**
- 하단의 길쭉한 검은색 스크롤 바를 통해 **상대방과의 매칭 거리를 설정**합니다. (최대 3KM)

<br>

### 2. 운동하고 싶은 장소 선택

![시연2-3](https://user-images.githubusercontent.com/89068148/192576555-c247c114-87d6-40d7-afdf-601963c5adde.PNG)

- 카카오 맵 api 와 네이버 맵 api 를 통해 **주소 검색** 가능
- 우측 상단의 노란배경 별 그림을 통해 **즐겨찾기**를 불러올 수 있습니다.
- 별을 누르면 즐겨찾기로 등록되고, 다시 누르면 즐겨찾기가 해제 됩니다.

<br>

### 3. 운동하고 싶은 장소 선택

![시연2-4](https://user-images.githubusercontent.com/89068148/192576559-f648a3d1-83bb-4858-a4d2-a9725bdff284.PNG)

- **운동 선택 (최대 3개), 소개 멘트 (최소 20자), 주의사항 확인 후 체크**

  **3가지를 모두 완료해야** 하단의 빨간색 경고 문구가 사라지고 

  다음 페이지로 **넘어가는 버튼이 표시**됩니다.

<br>

### 4. 실시간 매칭 대기열 입장

![시연2-5](https://user-images.githubusercontent.com/89068148/192576562-18191849-9b1c-49cc-a509-84da33f0026d.PNG)

- 실시간으로 에 따라 내 주변의  설정한 거리 이내의 유저를 보여 줍니다.

  이때 **상대방도 매칭 대기열을 등록한 상태여야만 표시**가 됩니다.

- firebase에 실시간 수신 대기하는 코드로 작성되었고, 

  서로가 매칭중이라면 서로의 화면에 서로를 표시해 줍니다.

<br>

### 5. 실시간 영상통화

![캡처8](https://user-images.githubusercontent.com/89068148/192576815-66ebac61-d484-4053-b865-1be549a3807e.PNG)

![시연2-7](https://user-images.githubusercontent.com/89068148/192576566-2b357379-ecdd-4912-908e-05d942f950eb.PNG)

- 매칭을 신청하고, 상대방이 수락하면

  web-rtc 기반으로 실시간으로 영상통화를 진행합니다.

- 좌측상단의 메이트 신청의 경우, 만약 **서로가 신청했다면 바로 친구등록**이 되고

  **즉시 채팅방이 개설** 됩니다.

<br>

### 6. 결과화면

![시연2-8](https://user-images.githubusercontent.com/89068148/192576569-22895734-21db-4640-8963-702b3da6193a.PNG)

- 친구 신청 여부에 따라 결과화면을 보여줍니다.

- 매너 랭크는 하단의 매너 평가를 기반으로 점수가 책정되고, 

  최악이 5일 이상 유지 될 경우, 계정 30일간 정지됩니다.

<br>

### 7. 채팅방

![시연2-10](https://user-images.githubusercontent.com/89068148/192576573-538c0750-9cb5-408c-a51a-f4cd6857b75f.PNG)

- firebase의 realtime database로 작동하는 실시간 채팅 기능 입니다.

<br>

<br>

# 회고

1. **가장 no base 로 개발했었던 프로젝트** 이다.

   특히, react-native 에 대한 지식이 1도 없이, 1주일간 빠르게 습득하고 바로 적용했다.

   또한 안드로이드 어플 제작의 전과정을 a 부터 z 까지 경험해 볼수 있는 좋은 시간 이었다.

<br>

2. **로그인에 있어, access 및 refresh 을 구체화 시켜 구현**하였다.

   백엔드와의 api를 설계하였고, 체계적인 흐름속에 유저들의 정보를 안전하게 보호한다.

<br>

3. **역시, reference가 중요하다.**

   약 한달 반동안 수없이 많은 git hub 를 돌아다녔다.

   사실 이번 프로젝트는 어플 한개를 만들어본 경험도 좋지만, 

   궁극적으로 **searching 하는 능력이 크게 성장**했다.

<br>

4. **팀환경이 중요하다.**

   어플을 같이 하기로한 2명이, 포기해버렸다.

   원래 6인 프로젝트였으나, 백엔드 3명 어플 나 1명으로 완성을 시도했다.

   결국 프로필 페이지와 추가 구현기능 (메인화면의 유튜브 쇼츠 형태로 유저들간 소통)을 완성하지 못했다.

   물론 어플파트 1명이 그나마 후반에 조금 도와줬지만, 늦은 시점 이었다.

<br>

### 종합해보면, 지독하게 밑바닥 수준의 실패를 경험해본 시간 이었다.

### 절망적인 상황에서 남은 시간을 관리하고, 최선의 선택을 하는 법을 잘 배웠다고 생각한다.
